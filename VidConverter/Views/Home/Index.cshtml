@{
    ViewData["Title"] = "Video Upload & Convert";
}

<!-- Top Section: More Attractive Layout -->
<div class="container mt-5">
    <div class="row">
        <div class="col-md-12">
            <div class="card shadow-sm rounded">
                <div class="card-body">
                    <h4 class="text-primary">Fast and Efficient Video Conversion</h4>
                    <p class="text-muted">Experience the power of seamless video conversion with our user-friendly platform.</p>
                    <p class="mt-3">Ready to get started? Upload your video and begin converting in just a few clicks!</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Top Section: Main Grid Layout -->
<div class="container mt-5">
    <div class="row">
        <!-- Left Column (Why Use Our Converter) -->
        <div class="col-md-3 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title text-muted">Why Use Our Converter?</h5>
                    <ul class="list-unstyled">
                        <li>⚡ Fast Conversion</li>
                        <li>📁 Supports Multiple Formats</li>
                        <li>🔒 Secure Upload</li>
                    </ul>

                    <!-- Video embedded in sidebar -->
                    <div class="video-container mt-3">
                        <video class="sidebar-video" controls>
                            <source src="~/demo/demo.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>
        </div>

        <!-- Center Column (Main Content for Upload and Convert) -->
        <div class="col-md-6 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h2 class="text-center text-info">🎥 Upload and Convert Video</h2>

                    @if (!string.IsNullOrEmpty(ViewBag.ErrorMessage))
                    {
                        <div class="alert alert-danger">
                            @ViewBag.ErrorMessage
                        </div>
                    }

                    @if (!string.IsNullOrEmpty(ViewBag.FileName))
                    {
                        <div class="alert alert-success">
                            File uploaded successfully: @ViewBag.FileName
                        </div>

                        <!-- Conversion Form -->
                        <form asp-action="Convert" method="post" id="convertForm" class="mt-4">
                            <div class="form-group">
                                <label for="targetFormat">Select Target Format</label>
                                <select class="form-control" id="targetFormat" name="targetFormat">
                                    <option value="mp4">MP4</option>
                                    <option value="avi">AVI</option>
                                    <option value="mov">MOV</option>
                                    <option value="wmv">WMV</option>
                                    <option value="flv">FLV</option>
                                </select>
                            </div>

                            <input type="hidden" name="fileName" value="@ViewBag.FileName" />
                            <button type="submit" class="btn btn-success mt-3">
                                <i class="bi bi-arrow-repeat"></i> Convert
                            </button>
                        </form>

                        <!-- Progress Bar Section -->
                        <div id="progressBarContainer" class="mt-3" style="display: none;">
                            <div class="progress">
                                <div id="progressBar" class="progress-bar progress-bar-striped progress-bar-animated"
                                     role="progressbar" style="width: 100%;">
                                    Converting...
                                </div>
                            </div>
                        </div>
                    }

                    <!-- Upload Form -->
                    <form id="uploadForm" asp-action="Upload" method="post" enctype="multipart/form-data" class="mt-4">
                        <div id="drag-and-drop-area" class="form-group"
                             style="border: 2px dashed #ccc; padding: 20px; text-align: center; border-radius: 8px;">
                            <h4>Drag and Drop Your Video File Here</h4>
                            <p>or</p>
                            <input type="file" class="form-control" id="videoFile" name="videoFile" style="display:none;" />
                            <button type="button" id="selectFileBtn" class="btn btn-primary">
                                <i class="bi bi-upload"></i> Select File
                            </button>
                        </div>
                        <p id="fileNameDisplay" class="text-muted mt-2"></p>
                        <button type="submit" id="uploadBtn" class="btn btn-primary mt-3" style="display:none;">
                            <i class="bi bi-cloud-upload"></i> Upload
                        </button>
                    </form>

                    <!-- Video Details Section -->
                    <div id="videoDetails" class="mt-3"></div>
                    <!-- Estimated Time -->
                    <p id="estimatedTime" class="text-muted mt-2"></p>

                    @if (!string.IsNullOrEmpty(ViewBag.DownloadFileName))
                    {
                        <div class="alert alert-info mt-4">
                            <p><i class="bi bi-download"></i> Conversion complete! <a href="@Url.Action("Download", "Home", new { fileName = ViewBag.DownloadFileName })" class="alert-link">Download your file</a></p>
                        </div>
                    }
                </div>
            </div>
        </div>

        <!-- Right Column (Supported Formats) -->
        <div class="col-md-3 mb-4">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title text-muted">Supported Formats</h5>
                    <ul class="list-unstyled">
                        <li>🎬 MP4</li>
                        <li>🎥 AVI</li>
                        <li>📽 MOV</li>
                        <li>📼 WMV</li>
                        <li>📹 FLV</li>
                    </ul>
                </div>

                <!-- Video embedded in sidebar -->
                <div class="video-container mt-3">
                    <video class="sidebar-video" controls>
                        <source src="~/demo/demo.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bottom Section: More Attractive Layout -->
<div class="container shadow-sm mt-5 mb-5">
    <div class="row">
        <div class="col-md-12">
            <div class="card rounded">
                <div class="card-body">
                    <h4 class="text-primary">Why Our Converter Stands Out?</h4>
                    <p class="text-muted">
                        Experience seamless, fast, and secure video conversion with just a few clicks.
                    </p>
                    <ul class="list-unstyled">
                        <li><i class="bi bi-check-circle text-success"></i> Blazing Fast Conversion Speed</li>
                        <li><i class="bi bi-check-circle text-success"></i> No Account Required</li>
                        <li><i class="bi bi-check-circle text-success"></i> 100% Free, Forever</li>
                        <li><i class="bi bi-check-circle text-success"></i> End-to-End Secure Process</li>
                        <li><i class="bi bi-check-circle text-success"></i> Supports Multiple Video Formats</li>
                        <li><i class="bi bi-check-circle text-success"></i> User-Friendly Interface</li>
                    </ul>
                    <p class="mt-3">
                        Start converting your videos today and enjoy the best experience in online video conversion.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
